<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>s_serpent_defeated</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//The ticker text display

//tickerState
//0: ticker is typing out text
//1: ticker is paused after typing out. Advances back to 0 when the input is pressed.
tickerState = 0;

tickerRunning = false;
//The full array of strnig(s) for the text.
tickerFullString[0] = "Sen: Phew, that was one hell of a fight!";
tickerFullString[1] = "Sen: Well, all in a days work, it's no problem rescuing a fair maiden like yourself.";
tickerFullString[2] = "Sen: I was glad to stop you getting too... Wrapped... Up... In that situation.";
tickerFullString[3] = "*INSERT SOUND OF CLANGING METAL ON HOLLOW BONE HERE*";
tickerFullString[4] = "Hermit: How DAAAAAARE you!"; 
tickerFullString[5] = "Kasi: Smooth, Sen. How very Smooth.";
tickerFullString[6] = "Sen: WHAAAAT DIIID I DOOOO-OOOOOOOO!?!?";
tickerFullString[7] = "Hermit: Who gave you the right to beat a poor animal into the ground like that? It was only acting on instinct!";
tickerFullString[8] = "Kasi: She's right you know.";
tickerFullString[9] = "Hermit: Well... Whatever was going through your head there... Thanks.";
tickerFullString[10] = "Hermit: The animals are getting incredibly restless recently, and I appreciate the effort but...";
tickerFullString[11] = "Hermit: ...Learn to talk to people better, okay? Are we good?";
tickerFullString[12] = "Sen: Yes, and yes m'am. I'm sorry for being so brash.";
tickerFullString[13] = "Hermit: Well. With that said... Is there anything I can do for you?";
tickerFullString[14] = "Hermit: I'm a specialist of Magics and Potions. Brewer, Sorceress and Veterinarian extraordinaire!";
tickerFullString[15] = "Hermit: For a price, discounted of course, I can brew you a wide array of ointments for whatever ails you.";
tickerFullString[16] = "Kasi: Excellent! That sounds wonderful, I'm sure we could find a use for your artistry.";
tickerFullString[17] = "Hermit: All in a day's work! This country has changed these past few years. If I could figure a way out of this portal I'd move on out of Albard...";
tickerFullString[18] = "Sen: Huh? You know about the portals too? I should have figured...";
tickerFullString[19] = "Hermit: How astute of you! Yes. These portals are designed like some kind of one way barrier. You can get in, but not out...";
tickerFullString[20] = "Hermit: I wish I had known that before coming here. The barrier is only broken when that which is bound to it perishes, or dispells it themselves.";
tickerFullString[21] = "Sen: Really? You know now you mention that, it makes complete sense..."
tickerFullString[22] = "Hermit: Well, if you ever need anything, just come along here, I'll be working all the way!"
tickerString = "";
stringIndex = 0;
lineIndex = 0;
spd = 1.5;
finished = false;
lineFinished = false;
tickerInput = INPUT_ATTACK;

//set width and height to -1 for no limit.
w = 256-8;
h = -1;
textFont = menu_font;

//Cutscene Progress

cutscene_progress=0; //The frame to show


tickerDuration=220;
tickerCountdown=tickerDuration;

scroll_x=0;
spawn_magic = 2

witch_delay=irandom_range(2,6);
shake=0;

smug_progress=0;
smug_X = room_width;
konk_frame=0;
kasi_frame=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if tickerState = 0
{

    if stringIndex &lt; string_length(tickerFullString[lineIndex])
    {
        stringIndex+=spd;
        tickerString = string_copy(tickerFullString[lineIndex],1,floor(stringIndex));
    }
    else
    {
        tickerState = 1;
    }
}
else if tickerState = 1
{
if tickerCountdown &gt;0 {tickerCountdown--;}
    if tickerCountdown==0
    {
        tickerCountdown = tickerDuration;
        tickerString = "";
        stringIndex  = 0;
        lineIndex += 1;
        if lineIndex &gt; array_length_1d(tickerFullString)-1
        {
            instance_destroy();
        }
        else
        {
            tickerState = 0;
        }
    }
}

if lineIndex==3 {shake=irandom_range(8,-8);} else shake=0;
    
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(textFont);

konk_frame+=0.25;
if smug_X &gt; 128 {smug_X-=0.25;}
if (lineIndex ==2 &amp;&amp; stringIndex&gt;20) {if smug_progress &lt;5 {smug_progress +=0.5;}}
if lineIndex &lt;3 {draw_sprite(s_serpent_defeated,0,x,y);
draw_sprite(s_smug_sen,smug_progress,x+smug_X,y);
}
if lineIndex ==3 {draw_sprite(s_babang,shake,x+shake,y+(shake*irandom_range(-0.5,0.5)));}
if (lineIndex ==4 || lineIndex ==5 || lineIndex ==6) {draw_sprite(s_witch_konking_alone,konk_frame,x,y);}

if lineIndex ==8 {if kasi_frame &lt;5 {kasi_frame+=0.1;} }
if lineIndex &gt;=7 {draw_sprite(s_witch_angry,kasi_frame,x,y);}
if lineIndex &gt;=9 {draw_sprite(s_witch_explain,1,x,y);}
if lineIndex &gt;=13 {draw_sprite(s_witch_normal,0,x,y);}
if lineIndex ==14 {draw_sprite(s_witch_normal,1,x,y);}
if lineIndex &gt;=15 {draw_sprite(s_witch_normal,0,x,y);}
if lineIndex ==19 {draw_sprite(s_witch_normal,1,x,y);}
draw_text_shadow(8,144,1,1,tickerString,c_white,c_blue,w);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>128,128</point>
  </PhysicsShapePoints>
</object>
